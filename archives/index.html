
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="programmed_darcy">
    <title>归档 - programmed_darcy</title>
    <meta name="author" content="Darcy Song">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description">
<meta property="og:type" content="blog">
<meta property="og:title" content="programmed_darcy">
<meta property="og:url" content="http://yoursite.com/archives/index.html">
<meta property="og:site_name" content="programmed_darcy">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="programmed_darcy">
<meta name="twitter:description">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-27vrduj1jopliavvnzi7ibndpmbvg7lzo4a2uswrsi4m5vwauf2qi8s1v3or.min.css">
    <!--STYLES END-->
    
    
    <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?9072df043851504f329ae43d7ff0aff4";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">programmed_darcy</a>
    </h1>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="1">
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">首页</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">分类</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">标签</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">归档</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link st-search-show-outputs"
                         href="#search"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">搜索</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">关于</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/lockin-hiphop-daily"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-meh-o"></i>
                    <span class="sidebar-button-desc">懵逼日记</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/atom.xml"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    

<section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-right" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2016/06/28/tcpdump-tips/index.html">
                            tcpdump-tips
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Tue Jun 28 2016 11:11:05 GMT+0800">
	
		    6月 28, 2016
    	
    </time>
    
</div>
            </div>
            
            
                <div class="postShorten-excerpt" itemprop="articleBody">
                    <!-- toc -->
<h2 id="tcpdump是经常会用到的工具，但是每次用都不太记得命令，要去google，所以现在每次使用都把用法记录下来，方便后面查找"><a href="#tcpdump是经常会用到的工具，但是每次用都不太记得命令，要去google，所以现在每次使用都把用法记录下来，方便后面查找" class="headerlink" title="tcpdump是经常会用到的工具，但是每次用都不太记得命令，要去google，所以现在每次使用都把用法记录下来，方便后面查找"></a>tcpdump是经常会用到的工具，但是每次用都不太记得命令，要去google，所以现在每次使用都把用法记录下来，方便后面查找</h2><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><h3 id="抓某个端口"><a href="#抓某个端口" class="headerlink" title="抓某个端口"></a>抓某个端口</h3><p>tcpdump tcp port 22</p>
<h3 id="抓某个端口同时filter掉某台机器，不抓这台机器"><a href="#抓某个端口同时filter掉某台机器，不抓这台机器" class="headerlink" title="抓某个端口同时filter掉某台机器，不抓这台机器"></a>抓某个端口同时filter掉某台机器，不抓这台机器</h3><p>tcpdump tcp port 22 and not host 10.10.16.27</p>
<h3 id="保存为cap文件，每个分片文件大小100m"><a href="#保存为cap文件，每个分片文件大小100m" class="headerlink" title="保存为cap文件，每个分片文件大小100m"></a>保存为cap文件，每个分片文件大小100m</h3><p>tcpdump  tcp port 5222 -C 100m -w xmpp.cap</p>
                    
                        <a href="/2016/06/28/tcpdump-tips/index.html" class="postShorten-excerpt_link link">
                            阅读全文
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2016/06/27/vagrant-for-dev-local-env/index.html">
                            vagrant-for-dev-local-env
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Mon Jun 27 2016 21:39:28 GMT+0800">
	
		    6月 27, 2016
    	
    </time>
    
</div>
            </div>
            
            
                <div class="postShorten-excerpt" itemprop="articleBody">
                    <!-- toc -->
<h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><p>为了部署标准化，需要将本地开发环境，测试环境，生产环境统一。那么部署本地环境也需要自动化，从而保证标准。<br>考虑跨平台的需求并且开发易于部署，所以选择vagrant作为虚拟机标准化的工具。</p>
<h2 id="安装并启动centos7"><a href="#安装并启动centos7" class="headerlink" title="安装并启动centos7"></a>安装并启动centos7</h2><h3 id="安装virtual-box"><a href="#安装virtual-box" class="headerlink" title="安装virtual box"></a>安装virtual box</h3><p><a href="https://www.virtualbox.org/wiki/Downloads">https://www.virtualbox.org/wiki/Downloads</a><br>选择合适自己的平台下载并安装</p>
<h3 id="安装-vagrant"><a href="#安装-vagrant" class="headerlink" title="安装 vagrant"></a>安装 vagrant</h3><p><a href="https://www.vagrantup.com/downloads.html">https://www.vagrantup.com/downloads.html</a><br>下载并安装</p>
                    
                        <a href="/2016/06/27/vagrant-for-dev-local-env/index.html" class="postShorten-excerpt_link link">
                            阅读全文
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2016/06/22/atom-init/index.html">
                            从零开始使用Atom
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Wed Jun 22 2016 13:45:03 GMT+0800">
	
		    6月 22, 2016
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/Tech-for-Fun/">Tech for Fun</a>


    
</div>
            </div>
            
            
                <div class="postShorten-excerpt" itemprop="articleBody">
                    <!-- toc -->
<h3 id="开始折腾atom"><a href="#开始折腾atom" class="headerlink" title="开始折腾atom"></a>开始折腾atom</h3><p>作为git粉,迟早还是要转到atom的,不如趁早(其实现在也不算早了)</p>
<h2 id="download"><a href="#download" class="headerlink" title="download"></a>download</h2><p>没啥好说的,官网下载mac版,解压,拷贝到app下面</p>
<h2 id="apm"><a href="#apm" class="headerlink" title="apm"></a>apm</h2><p>安装atom之后,就会自带个命令行工具apm,这个不能更赞了,很多事情就可以脚本化来做了.<br>apm - Atom Package Manager powered by <a href="https://atom.io">https://atom.io</a></p>
<p>支持的命令列表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">clean, config, dedupe, deinstall, delete, dev, develop, disable, docs,</span><br><span class="line">enable, erase, featured, home, i, init, install, link, linked, links, list,</span><br><span class="line">ln, lns, login, ls, open, outdated, publish, rebuild, rebuild-module-cache,</span><br><span class="line">remove, rm, search, show, star, starred, stars, test, uninstall, unlink,</span><br><span class="line">unpublish, unstar, update, upgrade, view.</span><br></pre></td></tr></table></figure></p>
<p>如果想看某个命令的用法,run apm help command<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">apm help dedupe                                                                                                         master </span><br><span class="line"></span><br><span class="line">Usage: apm dedupe [&lt;package_name&gt;...]</span><br><span class="line"></span><br><span class="line">Reduce duplication in the node_modules folder in the current directory.</span><br><span class="line"></span><br><span class="line">This command is experimental.</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>
                    
                        <a href="/2016/06/22/atom-init/index.html" class="postShorten-excerpt_link link">
                            阅读全文
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2016/06/17/git-practice/index.html">
                            git practice - 当devel branch和release branch不能完全merge
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Fri Jun 17 2016 14:40:15 GMT+0800">
	
		    6月 17, 2016
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/Devops/">Devops</a>


    
</div>
            </div>
            
            
                <div class="postShorten-excerpt" itemprop="articleBody">
                    <!-- toc -->
<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>要从svn转一个项目到git,这个项目有近4年历史, team members大概有20多人, codebase很大,最终生成一个war包.<br>开发模式,有个dev的branch,所有的功能都往这里放,然后有个出release的branch,dev branch完成测试的就手动merge到release的branch.<br>所以dev branch和release branch无法直接merge</p>
                    
                        <a href="/2016/06/17/git-practice/index.html" class="postShorten-excerpt_link link">
                            阅读全文
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2016/06/02/reading-notes-Creating-Development-Environments-with-Vagrant/index.html">
                            阅读笔记- 《Creating Development Environments with Vagrant》
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Thu Jun 02 2016 15:35:53 GMT+0800">
	
		    6月 02, 2016
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/读书笔记-技术类/">读书笔记-技术类</a>


    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h3 id="初衷"><a href="#初衷" class="headerlink" title="初衷"></a>初衷</h3><p>写了一些ansible,docker相关的代码,经常想本地调试一下,尤其希望能有一个标准的干净的环境能测试.<br>之前对Vagrant稍有了解,借这次机会好好学习一下.<br>最终目标是希望能一个setup.sh把所有的脚本代码都黏在一块儿.launch一套完整的系统.</p>
<h3 id="这句话挺吸引人"><a href="#这句话挺吸引人" class="headerlink" title="这句话挺吸引人"></a>这句话挺吸引人</h3><blockquote>
<p>“New team members can be onboarded to new projects as easy as git clone &amp;&amp; vagrant up”<br> Excerpt From: Michael Peacock. “Creating Development Environments with Vagrant - Second Edition.” iBooks. </p>
</blockquote>
<h3 id="阅读简单笔记"><a href="#阅读简单笔记" class="headerlink" title="阅读简单笔记"></a>阅读简单笔记</h3><ul>
<li>install virtualbox</li>
<li>install vagrant <a href="https://www.vagrantup.com/downloads.html" target="_blank" rel="external">https://www.vagrantup.com/downloads.html</a></li>
<li>vagrant init –force hashicorp/precise64 生成vagrantfile</li>
<li>vagrant up 把precise64launch起来,因为本地没有box文件,所以远程下载</li>
<li><a href="https://atlas.hashicorp.com/boxes/search?utf8=✓&amp;sort=&amp;provider=virtualbox&amp;q=centos" target="_blank" rel="external">https://atlas.hashicorp.com/boxes/search?utf8=✓&amp;sort=&amp;provider=virtualbox&amp;q=centos</a> 这里可以找到自己需要的box</li>
<li>我需要centos 7.1,所以按照此页面<a href="https://atlas.hashicorp.com/bento/boxes/centos-7.1" target="_blank" rel="external">https://atlas.hashicorp.com/bento/boxes/centos-7.1</a>, 执行 vagrant init bento/centos-7.1; vagrant up –provider parallels</li>
</ul>

                    
                        
                    
                    
                        <p>
                            <a href="/2016/06/02/reading-notes-Creating-Development-Environments-with-Vagrant/index.html#post-footer" class="postShorten-excerpt_link link">
                                注释和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2016/06/02/reuse-hexo/index.html">
                            重拾hexo,git blog走起
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Thu Jun 02 2016 15:11:48 GMT+0800">
	
		    6月 02, 2016
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/个人/">个人</a>


    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h3 id="好久没有更新了"><a href="#好久没有更新了" class="headerlink" title="好久没有更新了"></a>好久没有更新了</h3><p>上次更新还是去年,有些东西真是一放就是很那拿起来,沉下心花了1个多小时把npm, hexo还有一堆插件都升了升级,然后fix了一些问题,又开始了.<br>过了一年变化不少:</p>
<ul>
<li>公司的一个项目上线,那阵压力特别大,不过现在系统很平稳了,学习了很多,也收货了很多,对aws的devops工作比较深入.</li>
<li>新的项目开始玩serverless,这个开源项目关注aws的应该都知道, aws的microservice解决方案, 话说microservice这个词,去年自从有本书出来后,到今年基本就烂大街了,到处都在谈这个.</li>
<li>去年压力最大的时候每天还是要保持运动量,9月份无意接触了街舞, 报名学习了lockin和hiphop,跟了两学期的课,认识了很多朋友和老师,非常懵逼的上了6,7节大师课,也算人生的一片新天地,虽然我这个年纪只能是强身健体娱乐为主,但是!跳舞,我们是认真的.</li>
<li>目前开始玩docker的pipeline, 公司的主打项目的运维方式想提高自动化能力,于是结合jenkins,ansible,docker等做一套CD的系统,也挺有意思.<br>其实想分享的很多,但是往往过了这村就没这个店了,最想分享的时候没时间,过了这个时间点,也不一定能写出来什么东西</li>
</ul>
<h3 id="这次升级刨的坑"><a href="#这次升级刨的坑" class="headerlink" title="这次升级刨的坑"></a>这次升级刨的坑</h3><h4 id="TypeError-Cannot-read-property-‘compile’-of-undefined-on-Mac"><a href="#TypeError-Cannot-read-property-‘compile’-of-undefined-on-Mac" class="headerlink" title="TypeError: Cannot read property ‘compile’ of undefined on Mac"></a>TypeError: Cannot read property ‘compile’ of undefined on Mac</h4><p>我用的皮肤是tranquilpeak, 升级hexo后generate出错,无需降级的解决方案: </p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">change <span class="built_in">source</span>/_css/layout into <span class="built_in">source</span>/_css/layouts and modify related lines <span class="keyword">in</span> <span class="built_in">source</span>/_css/tranquilpeak.scss</span><br><span class="line"></span><br><span class="line">@import</span><br><span class="line">    <span class="string">'layouts/about'</span>,</span><br><span class="line">    <span class="string">'layouts/blog'</span>,</span><br><span class="line">    <span class="string">'layouts/bottom-bar'</span>,</span><br><span class="line">    <span class="string">'layouts/cover'</span>,</span><br><span class="line">    <span class="string">'layouts/footer'</span>,</span><br><span class="line">    <span class="string">'layouts/header'</span>,</span><br><span class="line">    <span class="string">'layouts/main'</span>,</span><br><span class="line">    <span class="string">'layouts/sidebar'</span>;</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<h4 id="TypeError-this-relative-url-is-not-a-function"><a href="#TypeError-this-relative-url-is-not-a-function" class="headerlink" title="TypeError: this.relative_url is not a function"></a>TypeError: this.relative_url is not a function</h4><p>修改_config.yml 为 relative_link: false</p>

                    
                        
                    
                    
                        <p>
                            <a href="/2016/06/02/reuse-hexo/index.html#post-footer" class="postShorten-excerpt_link link">
                                注释和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2016/06/02/Learning-Jenkins-2-0-pipeline/index.html">
                            Jenkins 2.0 pipeline 学习
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Thu Jun 02 2016 14:47:53 GMT+0800">
	
		    6月 02, 2016
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/Devops/">Devops</a>


    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>长久以来,jenkins不能通过code管理config都是个缺点,我说的code管理不仅仅是配置保存的git/svn,而是每个jenkins的配置都能先进git/svn,<br>再有个jenkins的功能能获取config的更新,自动更新jenkins的job,这样jenkins的管理也就可控了,任何变更都可review和追溯,做到真正的code as</p>
<h3 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h3><p>大概简单试用了一下Jenkins 2.0的pipeline功能, 看了jenkinsfile和一些dsl的介绍,比想象中的功能要强很多.<br>所以想系统的学习一下,看看没有可能通过jenkinsfile直接替换job config的定义.</p>

                    
                        
                    
                    
                        <p>
                            <a href="/2016/06/02/Learning-Jenkins-2-0-pipeline/index.html#post-footer" class="postShorten-excerpt_link link">
                                注释和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2015/09/12/trans-devops-landscope/index.html">
                            =翻译= 2015年devops一览-management层的竞争
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Sat Sep 12 2015 17:16:19 GMT+0800">
	
		    9月 12, 2015
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/翻译/">翻译</a>


    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <blockquote>
<p>If you don’t like something, change it. If you can’t change it, change your attitude.<br>如果你不喜欢某事，那就去改变它。如果你不能改变它，那就改变你自己的态度。</p>
<blockquote>
<p>玛雅·安吉罗</p>
</blockquote>
</blockquote>
<h3 id="文章简介"><a href="#文章简介" class="headerlink" title="文章简介"></a>文章简介</h3><p>the new stack 上一篇非常赞的文章，是对当先management layer的一览<br><a href="http://thenewstack.io/devops-landscape-2015-the-race-to-the-management-layer/" target="_blank" rel="external">http://thenewstack.io/devops-landscape-2015-the-race-to-the-management-layer/</a></p>
<p>虽然软文嫌疑比较大，不过写的还是非常全面易懂的，看完之后觉得很清晰，所以翻译一方面是自己加深理解，另一方面也希望对大家有点帮助<br>由于自己翻译水平实在是很差，还挺怕误导大家，发现不对的还请仔细看原文。</p>
<p><img src="http://thenewstack.io/wp-content/uploads/2015/06/13909475735_783a17c607_k.jpg" alt=""></p>
<blockquote>
<p>Kevin Fishner is director of customer success at HashiCorp, a leader in the DevOps marketplace. Author note: As an actor in the DevOps ecosystem, we certainly have biases.<br>This summary is our view of the current DevOps environment backed by our experiences and the experiences of our customers. It is not exhaustive.</p>
</blockquote>
<p>作者简介，作为devops生态圈的从业者，我们肯定会有些曲解，这个总结是基于我们以及客户的经验，对当前devops生态圈的一些看法，并不彻底。</p>
<blockquote>
<p>There has been so much activity in DevOps tooling and best practices in the past few months that it has become difficult to understand the current and future state of the industry. This summary is the outcome of explaining HashiCorp’s thoughts on the current DevOps landscape and future roadmap.</p>
</blockquote>
<p>过去几个月有太多的活动是关于DevOps的tools和最佳实践，以至于我们很难理解当前和未来发展的状态，这个总结是HashiCorp公司对于devops概览和未来发展呢的一些解释</p>
<blockquote>
<p>The Goal of DevOps is to Turn Application Code Into a Running Application Through a Repeatable, Safe Process</p>
</blockquote>
<h2 id="DevOps的目标是让application的code通过一个可重复安全的流程deploy到产品线变成运行的程序"><a href="#DevOps的目标是让application的code通过一个可重复安全的流程deploy到产品线变成运行的程序" class="headerlink" title="DevOps的目标是让application的code通过一个可重复安全的流程deploy到产品线变成运行的程序"></a>DevOps的目标是让application的code通过一个可重复安全的流程deploy到产品线变成运行的程序</h2><blockquote>
<p>“DevOps” as a term has many meanings, but for the purposes of this summary “DevOps” will be defined by its goal. Across organizations, the goal of DevOps is to turn application code into a running application through a repeatable, safe process.</p>
</blockquote>
<p>DevOps是个有很多解释的术语，但是对于这篇总结，devops是通过它的目标来定义的。DevOps的目标是让application的code通过一个可重复安全的流程deploy到产品线变成运行的程序。</p>
<p><img src="http://7xk2xu.com1.z0.glb.clouddn.com/20150912image00-1-1024x250.png" alt=""></p>
<blockquote>
<p>The Road to a Complete DevOps Management Layer: Configuration Management vs Immutable Infrastructure</p>
</blockquote>
<h2 id="通往完整的的DevOps-Management层之路：配置管理-vs-不可变基础设施"><a href="#通往完整的的DevOps-Management层之路：配置管理-vs-不可变基础设施" class="headerlink" title="通往完整的的DevOps Management层之路：配置管理 vs 不可变基础设施"></a>通往完整的的DevOps Management层之路：配置管理 vs 不可变基础设施</h2><blockquote>
<p>Darcy: 感觉这翻译真不好整啊，比写代码难，这句英文那么通顺，换成中文就不知道该咋说了 #_#</p>
<p>There are two paradigms to provide a complete management layer for delivering applications</p>
</blockquote>
<p>为了递交程序，有两种模式可以实现全面的管理层</p>
<blockquote>
<h2 id="Paradigm-1-Runtime-Configuration"><a href="#Paradigm-1-Runtime-Configuration" class="headerlink" title="Paradigm 1: Runtime Configuration."></a>Paradigm 1: Runtime Configuration.</h2><p>In this view, the workflow from application code to running application is provision a server; configure the server with dependencies and application code; and monitor application and server health with scheduled, continuous configuration management runs.</p>
</blockquote>
<h2 id="模式1：-实时的配置"><a href="#模式1：-实时的配置" class="headerlink" title="模式1： 实时的配置"></a>模式1： 实时的配置</h2><p>在这个视图， 从代码到运行的程序的工作流是:</p>
<ul>
<li>provision一台server</li>
<li>在这台server上安装进行系统配置，安装依赖和应用程序</li>
<li>安装monitoring和一些cron job</li>
</ul>
<blockquote>
<h2 id="Paradigm-2-Immutable-Infrastructure"><a href="#Paradigm-2-Immutable-Infrastructure" class="headerlink" title="Paradigm 2: Immutable Infrastructure."></a>Paradigm 2: Immutable Infrastructure.</h2><p>In this view, the workflow from application code to running application code is to package the application into a deployable artifact, such as a Docker container, AMI, jar, etc; then provision the server in the likeness of that artifact; and finally, monitor application and server health. It is very important to note that immutable infrastructure and configuration management are not mutually exclusive. Configuration management tools are often used to configure build-time artifacts.</p>
</blockquote>
<h2 id="模式2：不可变基础设施"><a href="#模式2：不可变基础设施" class="headerlink" title="模式2：不可变基础设施"></a>模式2：不可变基础设施</h2><p>在这个视图里，从代码到运行的程序的工作流是将应用程序打包到一个可以直接部署的artifact中，比如Docker， Ami，jar等等,然后用这个artifact provision一台server，最终监控应用程序和健康状况<br>需要注意的是，配置管理不可变基础设施和不是互斥的，配置管理工具通常用来配置build阶段的artifacts</p>
<blockquote>
<p>The key difference between immutable infrastructure and configuration management paradigms is at what point configuration occurs. In the immutable infrastructure view configuration happens at build-time, before deployment. In the configuration management view configuration happens at runtime, after deployment. To make a service change in the immutable infrastructure world, a new artifact is built, the old service is destroyed, and a new service is brought up using the new artifact. The service is never changed once it has been deployed, and thus why this paradigm is called “immutable” infrastructure. To make a service change in the configuration management world, the same server is updated with new service code. Again, these paradigms are not mutually exclusive, as configuration management tools are often used to help build build-time artifacts.</p>
</blockquote>
<p>这两个模式最关键的区别在于配置何时发生：</p>
<ul>
<li>对于不可变基础设施，config是在build时做的，在deployment之前</li>
<li>对于配置管理，配置是运行时做的，在deployment之后</li>
</ul>
<p>对于这两个模式，当要对server进行改动时的区别：</p>
<ul>
<li>对于不可变基础设施，由于配置是发生在build time，那么理所当然，配置更改时，需要重新build artifact，因此老的server需要destroy掉，然后用新的artifact创建新的server,server在deploy后永远不会改变，所以这个方式被称作“不可变” </li>
<li>对于配置管理，相同的server被新的配置管理的code更新。</li>
</ul>
<p>再次重申，这两个不是互斥的，配置管理工具经常被用来构建artifacts</p>
<blockquote>
<p>There’s arguably a nascent third paradigm, which treats servers as a generic resource pool which heterogeneous workloads are scheduled on top of. This technically fits under the immutable infrastructure paradigm, but is unique enough to define independently. This paradigm is in active development as Mesos, Kubernetes, Docker Swarm, and various other schedulers gain in popularity.</p>
</blockquote>
<p>还有个可论证的刚出现的第三种模式，这个模式把server当做一个通用的资源池，这个池子顶层安排有各式各样的工作，这项技术适合不可变基础设施模式，但是足够特殊到可以单独定义。这个模式是正在活跃的开发中，比如Mesos，Kubernetes和Docker Swarm和多种其他产品等</p>
<blockquote>
<h2 id="The-Management-Layer-is-the-Revenue-Opportunity-in-DevOps"><a href="#The-Management-Layer-is-the-Revenue-Opportunity-in-DevOps" class="headerlink" title="The Management Layer is the Revenue Opportunity in DevOps"></a>The Management Layer is the Revenue Opportunity in DevOps</h2><p>There are three basic layers in DevOps — infrastructure, tooling, and management:</p>
</blockquote>
<h2 id="管理层是DevOps是盈利点"><a href="#管理层是DevOps是盈利点" class="headerlink" title="管理层是DevOps是盈利点"></a>管理层是DevOps是盈利点</h2><p>基本上DevOps有三层： infrastructure， tooling 和 management<br><img src="http://7xk2xu.com1.z0.glb.clouddn.com/20150912image01.png" alt=""></p>
<ul>
<li><blockquote>
<h3 id="The-infrastructure-layer"><a href="#The-infrastructure-layer" class="headerlink" title="The infrastructure layer"></a>The infrastructure layer</h3><p>is comprised of technology that provides virtualization functionality to physical hardware to make compute, network and storage easily accessible. Example technologies are Amazon’s EC2 and Google Compute Engine in the public cloud arena, along with VMware and OpenStack in the private cloud arena.</p>
</blockquote>
</li>
</ul>
<p>infrastructure层主要提供虚拟化的基础设施，比如在公有云方面，有亚马逊aws，谷歌的GAE。在私有云方面，有openstack和vmware</p>
<ul>
<li><blockquote>
<h3 id="The-tooling-layer"><a href="#The-tooling-layer" class="headerlink" title="The tooling layer"></a>The tooling layer</h3><p>is comprised of technologies that make access and configuration of the infrastructure layer an easier process. These tools still require functional knowledge of the underlying infrastructure. Examples here are the open source tools by HashiCorp, Mesos, Docker, Puppet, Chef, Jenkins and many, many more. It’s interesting that the majority of the tooling layer is comprised of open source software.</p>
</blockquote>
</li>
</ul>
<p>tooling层是为了简化接入管理和基础设施层的流程，这些工具仍然需要基本的基础设施知识，这里有些例子，比如HashiCorp, Mesos, Docker, Puppet, Chef, Jenkins和其他许多，有趣的是，这一层基本都是开源的。</p>
<ul>
<li><blockquote>
<h3 id="The-management-layer"><a href="#The-management-layer" class="headerlink" title="The management layer"></a>The management layer</h3><p>is at the top and has the goal of abstracting away both the tooling and infrastructure layers into one common workflow for turning application code into a running application. An example end goal would be to just package your application — potentially as a Docker container, rkt container, jar or binary — and have it be able to run on any cloud or physical infrastructure. Ideally, no knowledge of the infrastructure itself is necessary and all the logic is held at the application level.</p>
</blockquote>
</li>
</ul>
<p>管理层是最上层，目标是将tooling and infrastructure layers 合并为一个通用的工作流,从而让产品代码可以转化成上线，举例来说，最终目标可能仅仅需要打包你的应用程序，比如docker容器，rkt容器，jar或者二进制文件，然后让它可以运行在各种cloud或者物理机上。理想状况下，不需要任何infrastructure相关的只是，只需要集中于应用层开发即可。</p>
<blockquote>
<p>The infrastructure layer is facing a wave of competition and commoditization, and we now see the companies in this space trying to move up the stack into tooling and management. Amazon Web Services (AWS) has released tools like EC2 Container Service (ECS) and AWS CodeDeploy, which allow users to simply package their applications and ignore the infrastructure configuration and provisioning processes. Google Cloud Platform has similarly released Google App Engine and Google Container Service, as well as sponsoring open source projects such as Kubernetes. VMware has moved into tooling and management with heavy support for Pivotal’s Cloud Foundry. These tools make it easier for users to deploy applications and allow infrastructure providers to lock users into their platforms.</p>
</blockquote>
<p>基础设施层经过一番竞争，地位已经确立，现在我们可以看到这些公司正在往tooling和management发展，aws最近发布了tool，比如EC2 Container Service (ECS)和AWS CodeDeploy，这些工具可以让用户简单的打包自己的应用程序，并且忽略基础设施配置和provision的过程。Google的云平台也有类似的GAE和Google Container Service，并且google也赞助了Kubernetes，Vmvare也做类似的事情。这些工具让用户能轻松的deploy应用程序，并且让基础设施提供商锁定住用户在自己的平台上。</p>
<blockquote>
<p>The tooling layer is more difficult to monetize as the tools themselves solve pieces of the greater DevOps goal. It’s difficult to charge at enterprise levels for tools that package applications or provision infrastructure. Enterprises pay for tools that reduce costs through employee timesavings or material savings. These tools still require significant employee effort and are difficult to tie to material savings, thus are harder to monetize. It is certainly possible to monetize this layer through support and services; however, those are more difficult to scale.</p>
</blockquote>
<p>Tooling层比较难作为商品区卖，针对devops庞大的目标，工具只是解决一部分的问题。很难从企业级层面解决整个部署过程，企业购买工具是为了减少成本，包括员工的时间成本和材料的成本，这些tool还是需要工程师很多的工作量，并且也很难节约成本，因此很难商品化，这个层次上赚钱，主要是通过support和提供服务。不过这是很难让利润扩大化的。</p>
<blockquote>
<p>The management layer presents the most significant monetization opportunity as it presents a full solution for turning application code into a running application. The employee investment is significant in the implementation phase, but relatively minimal for upkeep. If the management level can get into material cost savings, such as reducing the size of server fleets, there will be tremendous opportunities for revenue.</p>
</blockquote>
<p>管理层有巨大的盈利机会，因为它是一个完整的解决方案， 从而对于员工的投资更多的可以用于实现产品，更少的用于维护产品。如果管理层能节约成本，比如减少服务器的数量，那将是巨大的收入增长点。</p>
<blockquote>
<p>DevOps companies are racing to the management layer; however, several tools are necessary to have a complete DevOps management offering.</p>
</blockquote>
<p>DevOps的公司在管理层比赛，然后，很多工具对于完整的DevOps管理层还是必不可少的</p>
<blockquote>
<h2 id="Three-Types-of-DevOps-Companies-Infrastructure-Providers-Configuration-Management-Companies-and-Immutable-Infrastructure-Companies"><a href="#Three-Types-of-DevOps-Companies-Infrastructure-Providers-Configuration-Management-Companies-and-Immutable-Infrastructure-Companies" class="headerlink" title="Three Types of DevOps Companies: Infrastructure Providers, Configuration Management Companies, and Immutable Infrastructure Companies"></a>Three Types of DevOps Companies: Infrastructure Providers, Configuration Management Companies, and Immutable Infrastructure Companies</h2><p>Given that the management layer has the greatest revenue potential, the active players in the space are all battling to capture the opportunity. The interesting aspect of this battle is that the different types of companies in DevOps are approaching it from unique vantage points. These organizations can be categorized as either infrastructure providers, configuration management companies, or companies that favor immutable infrastructure. Amazon Web Services, Google Cloud Platform, OpenStack and VMware are the major players in the infrastructure provider space. Ansible, Chef, Puppet and Salt are the leaders in configuration management. HashiCorp, CoreOS, Docker and Mesosphere are the leaders in the nascent immutable infrastructure space.</p>
</blockquote>
<h2 id="三种DevOps的公司：-基础设施提供商，-配置管理公司和不变的基础设施公司"><a href="#三种DevOps的公司：-基础设施提供商，-配置管理公司和不变的基础设施公司" class="headerlink" title="三种DevOps的公司： 基础设施提供商， 配置管理公司和不变的基础设施公司"></a>三种DevOps的公司： 基础设施提供商， 配置管理公司和不变的基础设施公司</h2><p>因为管理层有极大的盈利点，所以竞争激烈。有趣的是，不同类型的公司通过自己独有的优势来参与这场竞争，这些公司可以被分类为基础设施提供商，配置管理公司和提供不可变基础设施的。在基础设施提供商这层，主要有亚马逊AWS，Google Cloud平台，OpenStack和VMvare。配置管理方面，Ansible，Chef, Puppet和Salt是主要的领导者。在不可变基础设施方面，有HashiCorp, CoreOS, Docker和Mesosphere。</p>
<blockquote>
<p>All of these companies must have solutions for infrastructure provisioning and application packaging or configuration in order to have a viable chance in winning the battle at the management layer. Historically, VMware is a great example of owning the entire tooling stack to win the datacenter virtualization market. If you look at the current product development across the companies, you can see that each is building tooling around these essentials. Chef has Chef Provisioning to provision infrastructure, and Chef configuration management to configure the application. HashiCorp has Terraform to provision infrastructure and Packer to package applications and build machine images. Docker has Docker Machine to provision infrastructure and Docker to package applications.</p>
</blockquote>
<p>所有这些公司必须具备提供基础设施，程序打包或者配置管理才能在管理层有机会赢得这场战争，Vmare是个很好的例子，因为它具备具备完整的工具栈，从而赢得了数据中心虚拟化的市场。 如果看一看当前的这些公司产品的开发，你会发现开发tooling都是围绕这些要素. Chef有Chef Provision用来provision基础设施，chef configuration management来配置应用程序。HashiCorp有Terraform来提供基础设施，packer来打包程序，做成镜像，Docker有Docker Machine来provision基础设施，Dock来打包程序</p>
<blockquote>
<p>These tools are then combined into a dashboard or common workflow to provide a management layer. For example, Mesosphere bundles Mesos, Marathon and Chronos to create the Mesosphere Datacenter Operating System. HashiCorp unites Packer, Terraform and Consul to create Atlas. CoreOS recently released Tectonic to bundle etc, rkt and flannel into a management layer. The infographic below shows the tooling portfolios for the major players in these categories and how those tools are starting to develop into a management layer.</p>
</blockquote>
<p>这些tool会合并成一个dashboard或者通用的工作流，从而提供管理层。距离，Mesosphere整合了Mesos, Marathon and Chronos来创建Mesosphere数据中心操作系统。HashiCorp整合了Packer，Terraform和Consul来创建Atlas。 CoreOS最近发布了Tectonic来整合rkt和flannel到管理层。下面这幅图描绘了主要的竞争对手在不同类别中的各种tool，并且这些工具是怎么开始进入管理层的<br><img src="http://7xk2xu.com1.z0.glb.clouddn.com/20150912image02.png" alt=""></p>
<blockquote>
<h2 id="Predictions-for-the-Next-12-Months"><a href="#Predictions-for-the-Next-12-Months" class="headerlink" title="Predictions for the Next 12 Months"></a>Predictions for the Next 12 Months</h2></blockquote>
<h2 id="未来12个月的预测"><a href="#未来12个月的预测" class="headerlink" title="未来12个月的预测"></a>未来12个月的预测</h2><blockquote>
<p>This summary identified infrastructure provisioning and application packaging or configuration as essential tools to build the management layer for DevOps. This conclusion leads to a few predictions:</p>
</blockquote>
<p>通过这篇总结，得知为了建立一套DevOps的管理层，必须基础设施提供，应用程序打包或者配置的工具。以上结论引出下面的预测</p>
<blockquote>
<p>All companies in the immutable infrastructure space will have tools to provision infrastructure, package applications, schedule applications and monitor applications.</p>
</blockquote>
<p>不可变基础设施的公司将会有provision基础设施，打包应用程序，安排应用程序和监控应用程序</p>
<blockquote>
<p>Configuration management companies will get the majority of enterprise budgets. It will take the immutable infrastructure companies more than 12 months to make significant progress with enterprises.</p>
</blockquote>
<p>配置管理公司将会主要面向企业，它将比不可变基础设施公司在企业客户上取得巨大的进步。</p>
<blockquote>
<p>AWS will grow by 50 percent plus and soak up a larger percentage of overall infrastructure budgets. The AWS tooling ecosystem is significantly more mature than competitors and more companies are moving away from on-premises datacenters.</p>
</blockquote>
<p>AWS将会增长50%并且会占据更大的整个基础设施的市场份额。AWS的tooling生态系统明显比其他对手成熟太多，并且更多的公司放弃on-premises数据中心。</p>
<blockquote>
<h2 id="How-to-Choose-a-DevOps-Management-Layer"><a href="#How-to-Choose-a-DevOps-Management-Layer" class="headerlink" title="How to Choose a DevOps Management Layer"></a>How to Choose a DevOps Management Layer</h2><p>The purpose of this summary is to shed light on the crowded and opaque DevOps landscape. However, the obvious next question is, “How do I choose a DevOps management layer?” This question has many moving parts, and the best we can do is try to simplify some of the choices by answering a few questions:</p>
</blockquote>
<h2 id="如何选择DevOps管理层"><a href="#如何选择DevOps管理层" class="headerlink" title="如何选择DevOps管理层"></a>如何选择DevOps管理层</h2><p>这篇总结的目的是阐明拥挤和晦涩的DevOps生态。然后，明显的下一个问题是：“如何选择DevOps管理层呢”</p>
<blockquote>
<h3 id="Are-two-or-more-individuals-working-on-your-team’s-infrastructure-part-time-contributors-are-counted"><a href="#Are-two-or-more-individuals-working-on-your-team’s-infrastructure-part-time-contributors-are-counted" class="headerlink" title="Are two or more individuals working on your team’s infrastructure (part-time contributors are counted)?"></a>Are two or more individuals working on your team’s infrastructure (part-time contributors are counted)?</h3><ul>
<li>If no, the two best options are either Amazon Web Services or Heroku. If no one has ops experience, Heroku is the best choice. If someone does have ops experience, AWS is the most full-featured option.</li>
<li>If yes, your team needs a way to manage the complexity of collaborating on infrastructure. Move on to the next question.</li>
</ul>
</blockquote>
<h3 id="是否有两个或更多的工程师在你team里工作于基础设施（part-time的也算）？"><a href="#是否有两个或更多的工程师在你team里工作于基础设施（part-time的也算）？" class="headerlink" title="是否有两个或更多的工程师在你team里工作于基础设施（part-time的也算）？"></a>是否有两个或更多的工程师在你team里工作于基础设施（part-time的也算）？</h3><ul>
<li>如果否，最佳的两个选择是AWS或者Heroku。 如果没人有经验，Heroku是最佳选择。如果有人有ops的经验，AWS是最全面的选择。</li>
<li>如果是，你的团队需要一方方法来管理复杂的基础设施方面的协作，继续下一个问题</li>
</ul>
<blockquote>
<h3 id="Do-you-want-to-do-build-time-or-runtime-configuration"><a href="#Do-you-want-to-do-build-time-or-runtime-configuration" class="headerlink" title="Do you want to do build-time or runtime configuration?"></a>Do you want to do build-time or runtime configuration?</h3><ul>
<li>If you want to do runtime configuration, use a configuration management tool such as Ansible, Puppet, Chef or Salt. If you want agent-based configuration management, use Puppet or Chef. If you want ssh-based configuration management, use Ansible or Salt.</li>
<li>If you want to do build-time configuration, which means building images and immutable infrastructure, use Atlas by HashiCorp, Mesosphere, Tectonic by CoreOS, or Docker Hub. Move on to the next question to select between these options.</li>
</ul>
</blockquote>
<h3 id="你是像用build-time还是实时的配置管理"><a href="#你是像用build-time还是实时的配置管理" class="headerlink" title="你是像用build-time还是实时的配置管理"></a>你是像用build-time还是实时的配置管理</h3><ul>
<li>如果你想用实时的配置管理，用Ansible, Puppet, Chef或者Salt等配置管理工具。如果想用基于agent的方式，用Puppet或者Chef。如果想用基于ssh的，用Ansible或者Salt.</li>
<li>如果你想用build-time的配置管理，创建镜像并且是不可变基础设施，用hashicorp的Atlas，Mesosphere, Tectonic by CoreOS, or Docker Hub. 对于这些选择，继续往一个问题。</li>
</ul>
<blockquote>
<h3 id="Do-you-want-to-automate-the-infrastructure-provisioning-process"><a href="#Do-you-want-to-automate-the-infrastructure-provisioning-process" class="headerlink" title="Do you want to automate the infrastructure provisioning process?"></a>Do you want to automate the infrastructure provisioning process?</h3><ul>
<li>If yes, Atlas by HashiCorp is the only option. Atlas uses Terraform to layout infrastructure as code and automate the provisioning process. Docker does have Docker Machine to provision Docker hosts; however, it is currently a command-line tool that only manages hosts, not a complete infrastructure.</li>
<li>If no, any of the options by HashiCorp, Mesosphere, Docker, and CoreOS can be considered. However it is difficult to deploy applications without a means to automate and reliably provision infrastructure.</li>
</ul>
</blockquote>
<h3 id="是否想自动化构建基础设施的流程"><a href="#是否想自动化构建基础设施的流程" class="headerlink" title="是否想自动化构建基础设施的流程"></a>是否想自动化构建基础设施的流程</h3><ul>
<li>如果是，（这条不想翻译了，太软文了）</li>
<li>如果不是，任何一项都可以。然后也是软文</li>
</ul>

                    
                        
                    
                    
                        <p>
                            <a href="/2015/09/12/trans-devops-landscope/index.html#post-footer" class="postShorten-excerpt_link link">
                                注释和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2015/09/12/powerline/index.html">
                            美化自己的命令行环境，增加漂亮的状态行，安装使用powerline
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Sat Sep 12 2015 15:43:54 GMT+0800">
	
		    9月 12, 2015
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/Tech-for-Fun/">Tech for Fun</a>


    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <blockquote>
<p>Better to do something imperfectly than to do nothing flawlessly.<br>做事不完美，总比完美地不做事要好。</p>
<blockquote>
<p>罗伯特·舒勒</p>
</blockquote>
</blockquote>
<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>首先大概介绍下powerline, 作为插件，可以用在bash,zsh,vim，tmux等等上，然后就会有很漂亮的状态栏</p>
<h4 id="zsh里的效果"><a href="#zsh里的效果" class="headerlink" title="zsh里的效果"></a>zsh里的效果</h4><p><img src="http://7xk2xu.com1.z0.glb.clouddn.com/20150911Snip20150911_5.png" alt=""></p>
<h4 id="vim效果"><a href="#vim效果" class="headerlink" title="vim效果"></a>vim效果</h4><p><img src="http://7xk2xu.com1.z0.glb.clouddn.com/20150911Snip20150911_1.png" alt=""><br><img src="http://7xk2xu.com1.z0.glb.clouddn.com/20150911Snip20150911_2.png" alt=""><br><img src="http://7xk2xu.com1.z0.glb.clouddn.com/20150911Snip20150911_3.png" alt=""><br><img src="http://7xk2xu.com1.z0.glb.clouddn.com/20150911Snip20150911_4.png" alt=""></p>
<h3 id="安装使用"><a href="#安装使用" class="headerlink" title="安装使用"></a>安装使用</h3><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install powerline-status</span><br></pre></td></tr></table></figure>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p>详情可以参与官方文档<br><a href="https://powerline.readthedocs.org/en/master/" target="_blank" rel="external">https://powerline.readthedocs.org/en/master/</a></p>
<h4 id="取到自己的repository-root，后面配置都要将repository-root替换成自己的Location"><a href="#取到自己的repository-root，后面配置都要将repository-root替换成自己的Location" class="headerlink" title="取到自己的repository_root，后面配置都要将repository_root替换成自己的Location"></a>取到自己的repository_root，后面配置都要将repository_root替换成自己的Location</h4><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pip show powerline-status                                             </span><br><span class="line">---</span><br><span class="line">Name: powerline-status</span><br><span class="line">Version: 2.2</span><br><span class="line">Location: /Library/Python/2.7/site-packages</span><br><span class="line">Requires:</span><br></pre></td></tr></table></figure>
<h4 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h4><p>vim 有些需求：<br><a href="https://powerline.readthedocs.org/en/master/usage.html#vim-plugin-requirements" target="_blank" rel="external">https://powerline.readthedocs.org/en/master/usage.html#vim-plugin-requirements</a></p>
<p>在vimrc里加一行即可<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> rtp+=&#123;repository_root&#125;/powerline/bindings/<span class="keyword">vim</span></span><br></pre></td></tr></table></figure></p>
<h4 id="zsh"><a href="#zsh" class="headerlink" title="zsh"></a>zsh</h4><p>在zshrc里加一行<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">. &#123;repository_root&#125;/powerline/bindings/zsh/powerline.zsh</span><br></pre></td></tr></table></figure></p>
<h4 id="trouble-shooting"><a href="#trouble-shooting" class="headerlink" title="trouble shooting"></a>trouble shooting</h4><h5 id="如果遇到python-locale的错误，把下面两行加到-etc-bashrc里"><a href="#如果遇到python-locale的错误，把下面两行加到-etc-bashrc里" class="headerlink" title="如果遇到python locale的错误，把下面两行加到/etc/bashrc里"></a>如果遇到python locale的错误，把下面两行加到/etc/bashrc里</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export LC_ALL=en_US.UTF-8</span><br><span class="line">export LANG=en_US.UTF-8</span><br></pre></td></tr></table></figure>
<h5 id="如果箭头显示不正常，需要安装一下powerline的font"><a href="#如果箭头显示不正常，需要安装一下powerline的font" class="headerlink" title="如果箭头显示不正常，需要安装一下powerline的font"></a>如果箭头显示不正常，需要安装一下powerline的font</h5><p>请参考：<br><a href="/2015/09/11/powerline-font/index.html" title="安装powerline的字体用于其他编程工具使用">安装powerline的字体用于其他编程工具使用</a></p>

                    
                        
                    
                    
                        <p>
                            <a href="/2015/09/12/powerline/index.html#post-footer" class="postShorten-excerpt_link link">
                                注释和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2015/09/11/powerline-font/index.html">
                            安装powerline的字体用于其他编程工具使用
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Fri Sep 11 2015 15:26:16 GMT+0800">
	
		    9月 11, 2015
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/Tech-for-Fun/">Tech for Fun</a>


    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>今天在弄zsh皮肤的时候，接触了powerline,然后发现里面带的字体很适合编程使用，非常漂亮，虽然mac自带的字体已经够多了，而且很不错，不过用了这么久了难免审美疲劳，玩玩新字体很是爽。</p>
<p>了解powerline -&gt;<br><a href="/2015/09/12/powerline/index.html" title="美化自己的命令行环境，增加漂亮的状态行，安装使用powerline">美化自己的命令行环境，增加漂亮的状态行，安装使用powerline</a></p>
<p>这个帖子的主题主要是安装powerline的字体们，有兴趣了解更多powerline配置的，可以参阅文档：<br><a href="https://powerline.readthedocs.org/en/latest/" target="_blank" rel="external">https://powerline.readthedocs.org/en/latest/</a></p>
<h3 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h3><p>所有字体的演示参考下面：<br><a href="https://github.com/powerline/fonts/blob/master/samples/All.md" target="_blank" rel="external">https://github.com/powerline/fonts/blob/master/samples/All.md</a></p>
<h3 id="安装使用"><a href="#安装使用" class="headerlink" title="安装使用"></a>安装使用</h3><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/powerline/fonts</span><br><span class="line">./install.sh</span><br></pre></td></tr></table></figure>
<p>安装log里会有安装的目录，到目录里点击安装字体即可</p>
<p>这是我使用了其中两个字体，pycharm的效果<br><img src="http://7xk2xu.com1.z0.glb.clouddn.com/20150911Snip20150911_6.png" alt=""></p>
<p>有兴趣的同学可以试试</p>

                    
                        
                    
                    
                        <p>
                            <a href="/2015/09/11/powerline-font/index.html#post-footer" class="postShorten-excerpt_link link">
                                注释和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-next">
            <a class="btn btn--default btn--small" href="/archives/page/2/">
                    <span>下一页</span>
                <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
        </li>
        
        <li class="pagination-number">第 1 页 共 2 页</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2016 Darcy Song. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <h4 id="about-card-name">Darcy Song</h4>
        
            <h5 id="about-card-bio"><p>author.bio</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </h5>
        
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover1.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/scrip-tu4ziscb5jrkjxubeugdgizktyuugflfq5jvgz4agzzmwifuq01g1lmq8giw.min.js"></script>
<!--SCRIPTS END-->



</html>
